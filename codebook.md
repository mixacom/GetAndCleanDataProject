---
title: "Codebook for the Getting and Cleaning Data course project"
author: "Mikhail Evchenko"
date: "22.11.2015" 
---

## Project Description
This project aims to give to a student a real flavour of data preparation for a further analysis. Data set for processing contains data obtained from a smartphone Samsung Galaxy S II. The data set has manually labeled activities mapped to subjects and corresponding information from sensors for each observation. 

##Study design and data processing

###Collection of the raw data
The experiments have been carried out with a group of 30 volunteers within an age bracket of 19-48 years. Each person performed six activities (WALKING, WALKING_UPSTAIRS, WALKING_DOWNSTAIRS, SITTING, STANDING, LAYING) wearing a smartphone on the waist. Using its embedded accelerometer and gyroscope, researchers Reyes-Ortiz et al. captured 3-axial linear acceleration and 3-axial angular velocity at a constant rate of 50Hz. The experiments have been video-recorded to label the data manually.

###Notes on the original (raw) data 
The original dataset has been randomly partitioned into two sets, where 70% of the volunteers was selected for generating the training data and 30% the test data. 

The sensor signals (accelerometer and gyroscope) were pre-processed by applying noise filters and then sampled in fixed-width sliding windows of 2.56 sec and 50% overlap (128 readings/window). The sensor acceleration signal, which has gravitational and body motion components, was separated using a Butterworth low-pass filter into body acceleration and gravity. The gravitational force is assumed to have only low frequency components, therefore a filter with 0.3 Hz cutoff frequency was used. From each window, a vector of features was obtained by calculating variables from the time and frequency domain. See https://github.com/mixacom/GetAndCleanDataProject/blob/master/raw_features_info.txt for more details. 

##Creating the tidy datafile

###Guide to create the tidy data file
Initial data set has been downloaded from https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip. The web site about raw data set is http://archive.ics.uci.edu/ml/datasets/Human+Activity+Recognition+Using+Smartphones. 

Archive with the data set should be unzipped for further exploration. Therefore, you should have permission to write files in your working directory. 

As was said in Notes on the original data, the raw data set contains two directories with test and train parts. Moreover, information about subject, activity and variables are split in three files in both folders. The first task is to combine these six files together. 

The next step is to give appropriate names to columns. It could be done by copying the names from original data set for variables, and specifying new names for subject and activity columns. One could ask why this step had been done before extracting columns related to mean and std values. The reason is to load the names from the file named features.txt, that can be found in archive with the original data set. This action saved us many lines of code; otherwise, it is necessary to write a name for each column in the code manually. 

Then information about average and standard deviation for each measurement has been extracted. Information about additional vectors obtained by averaging the signals in a signal window sample was not included, since it was derived and increases the size of processed data set while we are not going to use it. This information can be calculated if necessary.

Activies presented by numbers in data set. It could be handy to convert this numbers to meaningful strings. After this transformation it should be easy to analyze and classify different activities. 

The next step is to average data for every subject and type of activity. When it was done, the size of data frame was reduced to 180 lines from original 10299 lines. In addition, with grouping it is easier to compare different subjects with the same type of activity or different activities for a one subject. The more compact size increases the speed of further processing. 

Tidy data set is ready for analysis. 


###Cleaning of the data
More information and script can be found at the next link [https://github.com/mixacom/GetAndCleanDataProject/blob/master/readme.md]. 

##Description of the variables in the tiny_data.txt file

'data.frame':	180 obs. of  68 variables: 

 $ Person                     : Factor w/ 30 levels "1","2","3","4",..: 1 2 3 4 5 6 7 8 9 10 ...
 $ Activity                   : Factor w/ 6 levels "LAYING","SITTING",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ tBodyAcc-mean()-X          : num  0.222 0.281 0.276 0.264 0.278 ...
 $ tBodyAcc-mean()-Y          : num  -0.0405 -0.0182 -0.019 -0.015 -0.0183 ...
 $ tBodyAcc-mean()-Z          : num  -0.113 -0.107 -0.101 -0.111 -0.108 ...
 $ tBodyAcc-std()-X           : num  -0.928 -0.974 -0.983 -0.954 -0.966 ...
 $ tBodyAcc-std()-Y           : num  -0.837 -0.98 -0.962 -0.942 -0.969 ...
 $ tBodyAcc-std()-Z           : num  -0.826 -0.984 -0.964 -0.963 -0.969 ...
 $ tGravityAcc-mean()-X       : num  -0.249 -0.51 -0.242 -0.421 -0.483 ...
 $ tGravityAcc-mean()-Y       : num  0.706 0.753 0.837 0.915 0.955 ...
 $ tGravityAcc-mean()-Z       : num  0.446 0.647 0.489 0.342 0.264 ...
 $ tGravityAcc-std()-X        : num  -0.897 -0.959 -0.983 -0.921 -0.946 ...
 $ tGravityAcc-std()-Y        : num  -0.908 -0.988 -0.981 -0.97 -0.986 ...
 $ tGravityAcc-std()-Z        : num  -0.852 -0.984 -0.965 -0.976 -0.977 ...
 $ tBodyAccJerk-mean()-X      : num  0.0811 0.0826 0.077 0.0934 0.0848 ...
 $ tBodyAccJerk-mean()-Y      : num  0.00384 0.01225 0.0138 0.00693 0.00747 ...
 $ tBodyAccJerk-mean()-Z      : num  0.01083 -0.0018 -0.00436 -0.00641 -0.00304 ...
 $ tBodyAccJerk-std()-X       : num  -0.958 -0.986 -0.981 -0.978 -0.983 ...
 $ tBodyAccJerk-std()-Y       : num  -0.924 -0.983 -0.969 -0.942 -0.965 ...
 $ tBodyAccJerk-std()-Z       : num  -0.955 -0.988 -0.982 -0.979 -0.985 ...
 $ tBodyGyro-mean()-X         : num  -0.01655 -0.01848 -0.02082 -0.00923 -0.02189 ...
 $ tBodyGyro-mean()-Y         : num  -0.0645 -0.1118 -0.0719 -0.093 -0.0799 ...
 $ tBodyGyro-mean()-Z         : num  0.149 0.145 0.138 0.17 0.16 ...
 $ tBodyGyro-std()-X          : num  -0.874 -0.988 -0.975 -0.973 -0.979 ...
 $ tBodyGyro-std()-Y          : num  -0.951 -0.982 -0.977 -0.961 -0.977 ...
 $ tBodyGyro-std()-Z          : num  -0.908 -0.96 -0.964 -0.962 -0.961 ...
 $ tBodyGyroJerk-mean()-X     : num  -0.107 -0.102 -0.1 -0.105 -0.102 ...
 $ tBodyGyroJerk-mean()-Y     : num  -0.0415 -0.0359 -0.039 -0.0381 -0.0404 ...
 $ tBodyGyroJerk-mean()-Z     : num  -0.0741 -0.0702 -0.0687 -0.0712 -0.0708 ...
 $ tBodyGyroJerk-std()-X      : num  -0.919 -0.993 -0.98 -0.975 -0.983 ...
 $ tBodyGyroJerk-std()-Y      : num  -0.968 -0.99 -0.987 -0.987 -0.984 ...
 $ tBodyGyroJerk-std()-Z      : num  -0.958 -0.988 -0.983 -0.984 -0.99 ...
 $ tBodyAccMag-mean()         : num  -0.842 -0.977 -0.973 -0.955 -0.967 ...
 $ tBodyAccMag-std()          : num  -0.795 -0.973 -0.964 -0.931 -0.959 ...
 $ tGravityAccMag-mean()      : num  -0.842 -0.977 -0.973 -0.955 -0.967 ...
 $ tGravityAccMag-std()       : num  -0.795 -0.973 -0.964 -0.931 -0.959 ...
 $ tBodyAccJerkMag-mean()     : num  -0.954 -0.988 -0.979 -0.97 -0.98 ...
 $ tBodyAccJerkMag-std()      : num  -0.928 -0.986 -0.976 -0.961 -0.977 ...
 $ tBodyGyroMag-mean()        : num  -0.875 -0.95 -0.952 -0.93 -0.947 ...
 $ tBodyGyroMag-std()         : num  -0.819 -0.961 -0.954 -0.947 -0.958 ...
 $ tBodyGyroJerkMag-mean()    : num  -0.963 -0.992 -0.987 -0.985 -0.986 ...
 $ tBodyGyroJerkMag-std()     : num  -0.936 -0.99 -0.983 -0.983 -0.984 ...
 $ fBodyAcc-mean()-X          : num  -0.939 -0.977 -0.981 -0.959 -0.969 ...
 $ fBodyAcc-mean()-Y          : num  -0.867 -0.98 -0.961 -0.939 -0.965 ...
 $ fBodyAcc-mean()-Z          : num  -0.883 -0.984 -0.968 -0.968 -0.977 ...
 $ fBodyAcc-std()-X           : num  -0.924 -0.973 -0.984 -0.952 -0.965 ...
 $ fBodyAcc-std()-Y           : num  -0.834 -0.981 -0.964 -0.946 -0.973 ...
 $ fBodyAcc-std()-Z           : num  -0.813 -0.985 -0.963 -0.962 -0.966 ...
 $ fBodyAccJerk-mean()-X      : num  -0.957 -0.986 -0.981 -0.979 -0.983 ...
 $ fBodyAccJerk-mean()-Y      : num  -0.922 -0.983 -0.969 -0.944 -0.965 ...
 $ fBodyAccJerk-mean()-Z      : num  -0.948 -0.986 -0.979 -0.975 -0.983 ...
 $ fBodyAccJerk-std()-X       : num  -0.964 -0.987 -0.983 -0.98 -0.986 ...
 $ fBodyAccJerk-std()-Y       : num  -0.932 -0.985 -0.971 -0.944 -0.966 ...
 $ fBodyAccJerk-std()-Z       : num  -0.961 -0.989 -0.984 -0.98 -0.986 ...
 $ fBodyGyro-mean()-X         : num  -0.85 -0.986 -0.97 -0.967 -0.976 ...
 $ fBodyGyro-mean()-Y         : num  -0.952 -0.983 -0.978 -0.972 -0.978 ...
 $ fBodyGyro-mean()-Z         : num  -0.909 -0.963 -0.962 -0.961 -0.963 ...
 $ fBodyGyro-std()-X          : num  -0.882 -0.989 -0.976 -0.975 -0.981 ...
 $ fBodyGyro-std()-Y          : num  -0.951 -0.982 -0.977 -0.956 -0.977 ...
 $ fBodyGyro-std()-Z          : num  -0.917 -0.963 -0.967 -0.966 -0.963 ...
 $ fBodyAccMag-mean()         : num  -0.862 -0.975 -0.966 -0.939 -0.962 ...
 $ fBodyAccMag-std()          : num  -0.798 -0.975 -0.968 -0.937 -0.963 ...
 $ fBodyBodyAccJerkMag-mean() : num  -0.933 -0.985 -0.976 -0.962 -0.977 ...
 $ fBodyBodyAccJerkMag-std()  : num  -0.922 -0.985 -0.975 -0.958 -0.976 ...
 $ fBodyBodyGyroMag-mean()    : num  -0.862 -0.972 -0.965 -0.962 -0.968 ...
 $ fBodyBodyGyroMag-std()     : num  -0.824 -0.961 -0.955 -0.947 -0.959 ...
 $ fBodyBodyGyroJerkMag-mean(): num  -0.942 -0.99 -0.984 -0.984 -0.985 ...
 $ fBodyBodyGyroJerkMag-std() : num  -0.933 -0.989 -0.983 -0.983 -0.983 ...

###Person   
This variable represents the subject of experiment. 

Factor w/ 30 levels "1","2","3","4",..: 1 2 3 4 5 6 7 8 9 10 ...

####Notes on Person:
The total number of participants is 30 people. 

###Activity    

This variable represents one out of six types of activities. 

Factor w/ 6 levels "LAYING","SITTING",..: 1 1 1 1 1 1 1 1 1 1 ...

####Notes on Activity:
Types of activities are WALKING, WALKING_UPSTAIRS, WALKING_DOWNSTAIRS, SITTING, STANDING and LAYING. 

###tBodyAcc-XYZ
    
The mean and std of the acceleration signal that was separated into body acceleration with three axis X, Y, Z. 

###tGravityAcc-XYZ

The mean and std of the acceleration signal that was separated into gravity acceleration with three axis X, Y, Z. 

###tBodyAccJerk-XYZ

This set of variables represents the mean and std of body linear acceleration that were derived in time to obtain (derivative of acceleration) Jerk signals with three axis X, Y, Z.

###tBodyGyro-XYZ
    
The mean and std of the gyroscope signal that was separated into body acceleration with three axis X, Y, Z. 

###tBodyGyroJerk-XYZ
   
This set of variables represents the mean and std of body angular velocity that were derived in time to obtain Jerk signals with three axis X, Y, Z.

###tBodyAccMag
    
The mean and std for magnitude of acceleration signal that was separated into body acceleration. 

###tGravityAccMag
     
The mean and std for magnitude of acceleration signal that was separated into gravity acceleration. 

###tBodyAccJerkMag
   
This variable represents the magnitude of body acceleration that were derived in time to obtain Jerk signals.

###tBodyGyroMag
     
This variable represents the magnitude of body angular velocity. 

###tBodyGyroJerkMag
    
This variable represents the magnitude of body angular velocity that were derived in time to obtain Jerk signals. 

###fBodyAcc-XYZ
    
This set of variables represents the mean and std of Fast Fourier Transform (FFT) that was applied to body acceleration signals with three axis X, Y, Z.

###fBodyAccJerk-XYZ
    
This set of variables represents the mean and std of Fast Fourier Transform (FFT) that was applied to body acceleration Jerk signals with three axis X, Y, Z.

###fBodyGyro-XYZ
    
Fast Fourier Transform (FFT) that was applied to body angular velocity signals with three axis X, Y, Z.

###fBodyAccMag
    
The magnitude of Fast Fourier Transform (FFT) that was applied to body acceleration signals.

###fBodyAccJerkMag
   
Fast Fourier Transform (FFT) that was applied to angular velocity Jerk signals.

###fBodyGyroMag
    
The magnitude of Fast Fourier Transform (FFT) that was applied to gyroscope signals.

###fBodyGyroJerkMag   

The magnitude of Fast Fourier Transform (FFT) that was applied to gyroscope Jerk signals.

## Measurement units 

Features are normalized and bounded within [-1,1]. 

The gyroscope units are rad/seg. 

The units used for the accelerations (total and body) are 'g's (gravity of earth -> 9.80665 m/seg2). 


